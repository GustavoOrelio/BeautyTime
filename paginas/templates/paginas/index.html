<!-- Carregar e permitir o uso dos arquivos estáticos. -->
{% extends 'paginas/modelo.html' %}

{% load static %} 

{% block conteudo %}
<h3 class="mt-3">BeautyTime</h3>

<!-- Verifica se existe essa sessão com algum valor -->
{% if request.session.fazenda_pk %}
<h5>
    <!-- Acessa o valor que está na sessão -->
    Sessão fazenda: {{request.session.fazenda_pk}}
</h5>
{% endif %}

<hr>

{% if request.user.is_authenticated %}

<h5>Agendamentos</h5>

<table class="table table-striped">
    <tr>
        <th>Cliente</th>
        <th>Data</th>
        <th>Serviço</th>
        <th>Horário</th>
    </tr>

    {% for agendamento in agendamento %}
    <tr>
        <td>{{ agendamento.cliente }}</td>
        <td>{{ agendamento.dataAgendamento }}</td>
        <td>{{ agendamento.servico }}</td>
        <td>{{ agendamento.horario }}</td>
    </tr>
    {% empty %}
    <tr>
        <th colspan="100%">Nenhum agendamento encontrado.</th>
    </tr>
    {% endfor %}

</table>

<!-- Fim do usuário autenticado -->
{% else %}
<p>
    Faça o login ou se registre no sistema.
</p>
{% endif %}

{% endblock %}
